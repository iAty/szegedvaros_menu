<link rel="preload" as="style"
    href="https://fonts.googleapis.com/css2?family=Marcellus&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,600;0,700;1,400&display=swap">
<link
    href="https://fonts.googleapis.com/css2?family=Marcellus&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,600;0,700;1,400&display=swap"
    rel="stylesheet">

<link rel="stylesheet" href="style.css">

<div class="main">
    <nav id="szeged-menu" class="szeged-menu" role="navigation" aria-label="Main Nvigtaion">
        <ul role="menubar" aria-hidden="false">
            <li>
                <a role="menuitem" href="#" aria-haspopup="true" tabindex="0">Önkörmányzat</a>
                <div class="szeged-subm">
                    <div class="szeged-subm-inner">
                        <div>
                            <h4 tabindex="0">Gazdasági társaságok</h4>
                            <ul>
                                <li role="menuitem"><a href="#">Nyilatkozatok</a></li>
                                <li role="menuitem"><a href="#">Önkormányzati képviselők</a></li>
                                <li role="menuitem"><a href="#">Bizottságok</a></li>
                                <li role="menuitem"><a href="#">Dokumentumok</a></li>
                            </ul>
                        </div>
                        <div>
                            <h4 tabindex="0">Gazdasági társaságok</h4>
                            <ul>
                                <li role="menuitem"><a href="#">Nyilatkozatok</a></li>
                                <li role="menuitem"><a href="#">Önkormányzati képviselők</a></li>
                                <li role="menuitem"><a href="#">Bizottságok</a></li>
                                <li role="menuitem"><a href="#">Dokumentumok</a></li>
                            </ul>
                        </div>
                        <div>
                            <h4 tabindex="0">Gazdasági társaságok</h4>
                            <ul>
                                <li role="menuitem"><a href="#">Nyilatkozatok</a></li>
                                <li role="menuitem"><a href="#">Önkormányzati képviselők</a></li>
                                <li role="menuitem"><a href="#">Bizottságok</a></li>
                                <li role="menuitem"><a href="#">Dokumentumok</a></li>
                            </ul>
                        </div>
                    </div><!-- /szeged-subm-inner -->
                </div><!-- /szeged-subm -->
            </li>
            <li>
                <a role="menuitem" href="#" aria-haspopup="true" tabindex="0">Hivatal</a>
                <div class="szeged-subm">
                    <div class="szeged-subm-inner">
                        <div>
                            <h4 tabindex="0">Gazdasági társaságok</h4>
                            <ul>
                                <li role="menuitem"><a href="#">Nyilatkozatok</a></li>
                                <li role="menuitem"><a href="#">Önkormányzati képviselők</a></li>
                                <li role="menuitem"><a href="#">Bizottságok</a></li>
                                <li role="menuitem"><a href="#">Dokumentumok</a></li>
                            </ul>
                        </div>
                        <div>
                            <h4 tabindex="0">Gazdasági társaságok</h4>
                            <ul>
                                <li role="menuitem"><a href="#">Nyilatkozatok</a></li>
                                <li role="menuitem"><a href="#">Önkormányzati képviselők</a></li>
                                <li role="menuitem"><a href="#">Bizottságok</a></li>
                                <li role="menuitem"><a href="#">Dokumentumok</a></li>
                            </ul>
                        </div>
                        <div>
                            <h4 tabindex="0">Gazdasági társaságok</h4>
                            <ul>
                                <li role="menuitem"><a href="#">Nyilatkozatok</a></li>
                                <li role="menuitem"><a href="#">Önkormányzati képviselők</a></li>
                                <li role="menuitem"><a href="#">Bizottságok</a></li>
                                <li role="menuitem"><a href="#">Dokumentumok</a></li>
                            </ul>
                        </div>
                    </div><!-- /szeged-subm-inner -->
                </div><!-- /szeged-subm -->
            </li>
            <li>
                <a role="menuitem" href="#" aria-haspopup="true" tabindex="0">Információk</a>
                <div class="szeged-subm">
                    <div class="szeged-subm-inner">
                        <div>
                            <h4 tabindex="0">Gazdasági társaságok</h4>
                            <ul>
                                <li role="menuitem"><a href="#">Nyilatkozatok</a></li>
                                <li role="menuitem"><a href="#">Önkormányzati képviselők</a></li>
                                <li role="menuitem"><a href="#">Bizottságok</a></li>
                                <li role="menuitem"><a href="#">Dokumentumok</a></li>
                            </ul>
                        </div>
                        <div>
                            <h4 tabindex="0">Gazdasági társaságok</h4>
                            <ul>
                                <li role="menuitem"><a href="#">Nyilatkozatok</a></li>
                                <li role="menuitem"><a href="#">Önkormányzati képviselők</a></li>
                                <li role="menuitem"><a href="#">Bizottságok</a></li>
                                <li role="menuitem"><a href="#">Dokumentumok</a></li>
                            </ul>
                        </div>
                        <div>
                            <h4 tabindex="0">Gazdasági társaságok</h4>
                            <ul>
                                <li role="menuitem"><a href="#">Nyilatkozatok</a></li>
                                <li role="menuitem"><a href="#">Önkormányzati képviselők</a></li>
                                <li role="menuitem"><a href="#">Bizottságok</a></li>
                                <li role="menuitem"><a href="#">Dokumentumok</a></li>
                            </ul>
                        </div>
                    </div><!-- /szeged-subm-inner -->
                </div><!-- /szeged-subm -->
            </li>
            <li aria-haspopup="true">
                <a role="menuitem" href="#" aria-haspopup="true" tabindex="0">Választási információk</a>
                <div class="szeged-subm">
                    <div class="szeged-subm-inner">
                        <div>
                            <h4 tabindex="0">Gazdasági társaságok</h4>
                            <ul>
                                <li role="menuitem"><a href="#">Nyilatkozatok</a></li>
                                <li role="menuitem"><a href="#">Önkormányzati képviselők</a></li>
                                <li role="menuitem"><a href="#">Bizottságok</a></li>
                                <li role="menuitem"><a href="#">Dokumentumok</a></li>
                            </ul>
                        </div>
                        <div>
                            <h4 tabindex="0">Gazdasági társaságok</h4>
                            <ul>
                                <li role="menuitem"><a href="#">Nyilatkozatok</a></li>
                                <li role="menuitem"><a href="#">Önkormányzati képviselők</a></li>
                                <li role="menuitem"><a href="#">Bizottságok</a></li>
                                <li role="menuitem"><a href="#">Dokumentumok</a></li>
                            </ul>
                        </div>
                        <div>
                            <h4 tabindex="0">Gazdasági társaságok</h4>
                            <ul>
                                <li role="menuitem"><a href="#">Nyilatkozatok</a></li>
                                <li role="menuitem"><a href="#">Önkormányzati képviselők</a></li>
                                <li role="menuitem"><a href="#">Bizottságok</a></li>
                                <li role="menuitem"><a href="#">Dokumentumok</a></li>
                            </ul>
                        </div>
                    </div><!-- /szeged-subm-inner -->
                </div><!-- /szeged-subm -->
            </li>
        </ul>
    </nav>
</div>
</div>

<script src="https://code.jquery.com/jquery-3.6.3.slim.js"
    integrity="sha256-DKU1CmJ8kBuEwumaLuh9Tl/6ZB6jzGOBV/5YpNE2BWc=" crossorigin="anonymous"></script>

<script>

    var szegedHorizontalMenu = (function () {
        var b = $("#szeged-menu > ul > li"),
            g = b.children("a"),
            c = $("body"),
            d = -1;

        function f() {
            g.on("click", a);
            b.on("click", function (h) {
                h.stopPropagation()
            })
        }

        function a(j) {
            if (d !== -1) {
                b.eq(d).removeClass("szeged-open");
            }

            var i = $(j.currentTarget).parent("li"),
                h = i.index();
            console.log(i);
            if (d === h) {
                i.removeClass("szeged-open");
                accessible(i);
                d = -1;
            } else {
                b.eq(d).removeClass("szeged-open");
                i.addClass("szeged-open");

                d = h;
                c.off("click").on("click", e);
                accessible(i, d);
            }

            return false
        }

        function accessible(i, d) {
            $(document).keyup(function (e) {

                if (e.keyCode == 27) { // escape key maps to keycode `27`
                    b.eq(d).removeClass("szeged-open");

                    //console.log(i.next('a'));
                    var accessibleFeedback = document.createElement('div');
                    accessibleFeedback.setAttribute('aria-live', 'assertive');
                    accessibleFeedback.setAttribute('role', 'alert');
                    accessibleFeedback.setAttribute('tabindex', '0');
                    accessibleFeedback.className = ('accessibleFeedback');
                    accessibleFeedback.innerHTML = 'Menu Closed';
                    $(i).append(accessibleFeedback);
                    accessibleFeedback.focus();
                    setTimeout(function () { $('.accessibleFeedback').each(function () { $(this).remove(); }) }, 500);
                    console.log(i);
                }

                if (e.keyCode == 13) { // enter keycode '13'
                    console.log(i[0].className);
                    var accessibleFeedback = document.createElement('div');
                    accessibleFeedback.setAttribute('aria-live', 'assertive');
                    accessibleFeedback.setAttribute('role', 'alert');
                    accessibleFeedback.setAttribute('tabindex', '0');
                    accessibleFeedback.className = ('accessibleFeedback');
                    accessibleFeedback.innerHTML = 'Menu Open';
                    $('li.szeged-open > div').prepend(accessibleFeedback);
                    accessibleFeedback.focus();
                    setTimeout(function () { $('li.szeged-open .accessibleFeedback').each(function () { $(this).remove(); }) }, 500);


                }
            });
        }

        function e(h) {
            b.eq(d).removeClass("szeged-open");
            d = -1;

        }

        return {
            init: f
        }

    })();

    $(function () {
        szegedHorizontalMenu.init();

        $('#show-micro').click(function () {
            $('#show-micro').toggleClass('opened');
            $('.szeged-menu').toggleClass('display-szeged-menu');
        });
    });

</script>